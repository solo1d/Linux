- [页框](#页框)
- [伙伴算法](#伙伴算法)
- [slab](#slab)





**slab是小内存管理机制**



## 页框

**内核使用 `struct page`结构体 描述每个物理页,  也叫页框**

- Linux会把系统的所有内存管理起来, 也就是使用伙伴算法来进行管理和分配
  - 会将所有内存 按照4K (4096) 一个块分开
    - **每个4K 块都使用 `struct page`结构体来管理,  有多少个4K 块, 就有多少个结构体来描述物理块**



## 伙伴算法

**内核在很多情况下,需要申请连夜的页框, 而且数量不定.**

- Linux把所有的空闲页框分为11个链表,
  - 每个链表上的页框块都是固定的.
    - **在第 n 条链表中 每个 页框块 都包含  2的n次方  个连续页**
      - 也就是 第一条链表是 2^0 ,  里面保存的都是非连续的 单个页框 链表
      - 第5个链表是 2^4 , 里面保存的都是 连续的16个页框的  链表
        - **系统中每个 页框块  的第一个页框的 物理地址 是该块大小的整数倍.**
          - **例如: 大小为16个页框的块, 其 起始地址是 16*2^12 的倍数,  2^12= 4096=4K**



## slab



